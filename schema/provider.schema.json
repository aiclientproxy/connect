{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://proxycast.dev/schema/provider.schema.json",
  "title": "ProxyCast Transit Service Provider",
  "description": "中转服务商配置文件 Schema",
  "type": "object",
  "required": ["id", "name", "description", "branding", "links", "api", "contact"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "minLength": 2,
      "maxLength": 32,
      "description": "唯一标识，小写字母、数字、连字符"
    },
    "name": {
      "type": "string",
      "minLength": 2,
      "maxLength": 32,
      "description": "显示名称"
    },
    "description": {
      "type": "string",
      "maxLength": 100,
      "description": "简短描述"
    },
    "branding": {
      "type": "object",
      "required": ["logo"],
      "properties": {
        "logo": {
          "type": "string",
          "format": "uri",
          "description": "Logo URL，256x256 PNG"
        },
        "color": {
          "type": "string",
          "pattern": "^#[0-9a-fA-F]{6}$",
          "default": "#6366f1",
          "description": "主题色，HEX 格式"
        }
      }
    },
    "links": {
      "type": "object",
      "required": ["homepage"],
      "properties": {
        "homepage": {
          "type": "string",
          "format": "uri",
          "description": "官网地址"
        },
        "register": {
          "type": "string",
          "format": "uri",
          "description": "注册页面"
        },
        "recharge": {
          "type": "string",
          "format": "uri",
          "description": "充值页面"
        },
        "docs": {
          "type": "string",
          "format": "uri",
          "description": "文档地址"
        },
        "status": {
          "type": "string",
          "format": "uri",
          "description": "状态页面"
        }
      }
    },
    "api": {
      "type": "object",
      "required": ["base_url", "protocol"],
      "properties": {
        "base_url": {
          "type": "string",
          "format": "uri",
          "pattern": "^https://",
          "description": "API 地址，必须 HTTPS"
        },
        "protocol": {
          "type": "string",
          "enum": ["openai", "anthropic"],
          "description": "协议类型"
        },
        "auth_header": {
          "type": "string",
          "default": "Authorization",
          "description": "认证头"
        },
        "auth_prefix": {
          "type": "string",
          "default": "Bearer ",
          "description": "认证前缀"
        }
      }
    },
    "contact": {
      "type": "object",
      "required": ["email"],
      "properties": {
        "email": {
          "type": "string",
          "format": "email",
          "description": "联系邮箱"
        },
        "telegram": {
          "type": "string",
          "description": "Telegram 联系方式"
        },
        "discord": {
          "type": "string",
          "description": "Discord 联系方式"
        }
      }
    },
    "features": {
      "type": "object",
      "properties": {
        "streaming": {
          "type": "boolean",
          "default": true,
          "description": "是否支持流式响应"
        },
        "models_endpoint": {
          "type": "boolean",
          "default": false,
          "description": "是否提供 /models 端点"
        }
      }
    }
  }
}
